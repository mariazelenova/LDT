# LDT
Код и документация по хакатону Лидеры Цифровой Трансформации, Задача 19 от проекта Московское Долголетие. Решение команды Mental

Задача: создать рекомендательный сервис,
который поможет участникам (новым и уже действующим) “Московского
долголетия” выбрать подходящую группу для занятий, основываясь на
накопленных данных об активности пользователей в проекте.

**С помощью модели были получены результаты теста**, которые лежат в репозитории на гитхабе: 
https://github.com/mariazelenova/LDT/blob/main/test_dolgoletie.csv

**Презентация продукта находится**
https://docs.google.com/presentation/d/1xZU6UjMuK4okEZRSmwzOe8HNwy98SVp3/edit#slide=id.p1

**Степень реализации:**
Реализованы бек и фронт, но на данный момент не связаны между собой. В качестве прототипа показан фронт.

**Для запуска кода бека нужно наличие следующих таблиц: **

1) Данные о группах "groups.csv"
2) Полная таблица пользователей, в которую были добавлены рандомно сгенерированные имена пользователей 'users_w_fio.csv'
3) Обработанная полная таблица пользователей, готовая к использованию (без имен) "main_table.csv" (здесь лежит в zip, нужно разархивировать)
4) Таблица активностей пользователей "attend.csv"
5) Таблицы - юзеры и группы с координатами "groups_coor.xlsx", "users_itog.xlsx"
6) Таблица пользователей без активности, с рандомно сгенерированными именами "new_users_w_fio.csv"
7) Таблица пользователей без активности, без имен "new_users.xlsx"

**Основной код бека** 

Лежит в файле python_back.ipynb, он предназначен для демонстрации работоспособности модели и работает без интерфейса.
В беке реализованы три функции: подбор активностей для пользователей, которые уже зарегистрированы и имеют историю активностей, подбор 
активностей для пользователей, которые уже зарегистрированы и не имеют истории активностей, и подбор активностей на основе теста для новых пользователей. 


**Как выглядит и к чему привязан интерфейс:**
    
На главной странице подбора активностей появляеся приветствие и просьба указать информацию о себе.
Можно ввести ФИО, дату рождения, а также выбрать один из трех типов участия:
- зарегистрированный активный юзер
- зарегистрированный неактивный юзер
- незарегистрированный юзер

Если выбрана последняя опция, далее появляется текст и тест для подбора активностей:

Для подбора активностей просим ответить на несколько вопросов:

Выберите свой район: [Выбор района из выпадающего списка]
Введите свой рост в сантиметрах, через точку: 
Введите свой вес 
Сколько часов в день вы сидите? [выбор одного варианта]
A - до трех
B -  3-6
C - 6-8 и более

Что вам больше хотелось бы из предложенного? [выбор одного варианта]
A-Получить новую профессию
B-Изучить новый язык
C-Завести новые знакомства

Переменные поступают на бек, с бека возвращаются рекомендации отдельно по группам
Рекомендуем вам спортивные активности:
Рекомендуем вам образовательные активности: 
Рекомендуем вам активности для души:

**Для подключения кода интерфейса**

Код лежит в папке "Flask app". 
1.	Скопируйте папку на локальный компьютер
2.	В консоли перейдите в папку проекта (команда cd)
3.	Пропишите в консоль export FLASK_APP= app
4.	Пропишите в консоль export FLASK_ENV=development
5.	Пропишите в консоль flask run
6.	Может потребоваться установка библиотек. В таком случае устанавливаем библиотеки
(pip install python-dotenv, pip install ntplib, pip install multiprocessing_logging). 
После успешной установки повторяем команду flask run
7.	Переходим по появившейся локальной ссылке http://127.0.0.1:5000/



